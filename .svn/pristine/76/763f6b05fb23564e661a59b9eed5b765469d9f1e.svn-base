
@{
    ViewBag.Title = "T13006";
    Layout = "~/Views/Shared/_Layout.cshtml";
}


<script src="~/Apps/Accounts/Transaction/T13006Controller.js"></script>
<script src="~/Apps/Service/Service.js"></script>
<link href="~/Content/selectize.default.css" rel="stylesheet" />
<link href="~/Content/select.css" rel="stylesheet" />
<style>

    ::-webkit-scrollbar {
        width: 0px;
    }

    .table-scroll-header-fix tbody {
        display: block;
        min-height: 0vh !important;
        /* max-height: 28vh !important;*/
        overflow-x: auto;
    }

    .table-scroll-header-fix thead, tbody tr {
        display: table;
        width: 100%;
        table-layout: fixed;
    }

    .table-scroll-header-fix thead {
        width: calc( 100% - 0em )
    }

    .table-scroll-header-fix table {
        width: 100%;
    }

    .selected {
        background-color: #80c8e4ba;
        /* color: white;*/
        font-weight: bold;
    }

    .select2 > .select2-choice.ui-select-match {
        /* Because of the inclusion of Bootstrap */
        height: 29px;
    }

    .selectize-control > .selectize-dropdown {
        top: 36px;
    }
</style>
<div class="" ng-controller="T13006Controller">
    @*header*@
    <div class="header">
        <span href="#default" class="logo">Voucher Entry</span>
        <div class="header-right">
            <a><span title="Save" ng-click="Save_Click()" class="glyphicon glyphicon-floppy-disk"></span></a>
            <a><span title="Clear" ng-click="Clear_Click()" class="glyphicon glyphicon-erase"></span></a>
            <a><span title="Print" ng-click="Print_Click()" class="glyphicon glyphicon-print"></span></a>
            <a><span title="Delete" ng-click="Delet_Click()" class="glyphicon glyphicon-trash"></span></a>
        </div>
    </div>
    @*===========*@
    <div style="margin-left:0px;text-align:center" class="row col-lg-12 col-md-12 col-sm-12">

        <table class="inputTable center" style=" width: 98%;">
            <tr>
                <td style=" width: 10%;"><label class="textlevel">Pay Point</label></td>
                <td style="width:20%">
                    <input type="text" ng-model="obj.T13006.PAY_POINT" class="form-control" ng-dblclick="voucherPopup('Voucherlist')" readonly />
                </td>
                <td style=" width: 13%;">
                    <label class="textlevel">DDO</label>
                </td>
                <td style="width:20%">
                    <input type="text" ng-model="obj.T13006.DDO" class="form-control" />
                </td>
                <td style=" width: 13%;">
                    <label class="textlevel">Fiscal Year</label>
                </td>
                <td style="width:24%">
                    <input type="text" ng-model="obj.T13006.FISCAL_YEAR" class="form-control" readonly />
                </td>
            </tr>

            <tr>
                <td style=" width: 10%;"><label class="textlevel">Payment</label></td>
                <td style="width:20%">
                    <input type="text" ng-model="obj.T13006.PAYMENT" class="form-control" />
                </td>
                <td style=" width: 13%;">
                    <label class="textlevel">Payee Type</label>
                </td>
                <td style="width:20%">
                    <input type="text" ng-model="obj.T13006.PAYEE_TYPE" class="form-control" />
                </td>
                <td style=" width: 13%;">
                    <label class="textlevel">Supplier</label>
                </td>
                <td style="width:24%">
                    <input type="text" ng-model="obj.T13006.T_SUPPLIER_NAME" class="form-control" readonly />
                </td>
            </tr>
            <tr style="border: 1px solid #8080805e; border-radius: 10px">
                <td colspan="2">
                    <table>
                        <tr>
                            <td>
                                <input type="radio" id="html" ng-model="obj.T13006.T_RADIO_VALUE" name="fav_language" value="1" />
                                <label for="html">Mobile</label>
                                <input type="radio" id="css" ng-model="obj.T13006.T_RADIO_VALUE" name="fav_language" value="2" />
                                <label for="css">NID</label>
                                <input type="radio" id="javascript" ng-model="obj.T13006.T_RADIO_VALUE" name="fav_language" value="3" />
                                <label for="javascript">TIN</label>
                            </td>

                        </tr>
                        <tr>
                            <td style=" width: 10%;">
                                <label class="textlevel">Search</label>
                            </td>
                            <td style=" width: 20%;">
                                <input type="text" ng-model="obj.T13006.T_SEARCH" class="form-control" ng-blur="SearchSupplier()" />
                            </td>
                        </tr>
                    </table>

                </td>
                <td colspan="2">
                    <table>
                        <tr>
                            <td style=" width: 10%;">
                                <label class="textlevel">Account Name:</label>
                            </td>
                            <td style=" width: 10%; text-align: left">{{obj.T_ACCOUNT_NAME}}</td>
                        </tr>
                        <tr>
                            <td style=" width: 10%;">
                                <label class="textlevel">Bank Name:</label>
                            </td>
                            <td style=" width: 10%; text-align: left">{{obj.T_BANK_NAME}}</td>
                        </tr>
                       
                    </table>                   
                </td>
                <td colspan="2">
                    <table>                        
                        <tr>
                            <td style=" width: 10%;">
                                <label class="textlevel">Account No:</label>
                            </td>
                            <td style=" width: 10%; text-align: left">{{obj.T_ACCOUNT_NO}}</td>
                        </tr>
                        <tr>
                            <td style=" width: 10%;">
                                <label class="textlevel">Branch:</label>
                            </td>
                            <td style=" width: 10%;text-align:left">{{obj.T_BRANCH}}</td>
                        </tr>
                    </table>
                </td>
            </tr>
            <tr>
            </tr>
        </table>
        <hr style="margin-top: 5px !important; margin-bottom: 10px !important; border-top: 1px solid #076c93b0; " />
        <div>
            <table class="inputTable center" style="width:96%">
                <tr>
                    <td style=" width: 10%;">
                        <label id="lblProCode" style="text-align:center" class="textlevel">Code</label>
                    </td>
                    <td style=" width: 35%;">
                        <label id="lblHeader" style="text-align:center" class="textlevel">Header</label>
                    </td>
                    <td style=" width: 15%;">
                        <label style="text-align:center" class="textlevel">Department</label>
                    </td>
                    <td style=" width: 15%;">
                        <label style="text-align:center" class="textlevel">Purpose</label>
                    </td>
                    <td style=" width: 10%;">
                        <label style="text-align:center" class="textlevel">Debit</label>
                    </td>
                    <td style=" width: 10%;">
                        <label style="text-align:center" class="textlevel">Credit</label>
                    </td>
                    <td style=" width: 5%;"></td>
                </tr>
                <tr>
                    <td style=" width: 10%;">
                        <input style=" width: 98%;" id="txtProCode" type="text" ng-model="obj.ACCOUNT_ECONO_CODE" class="form-control" ng-keydown="onProductCode_Click($event)" tabindex="4" />
                    </td>

                    <td style=" width: 35%;">
                        <ui-select id="ddlHeader" ng-model="obj.ddlActHead" ng-change="changeHeader(obj.ddlActHead)" theme="selectize" ng-disabled="disabled" style="width: 100%;text-align:left;height:35px" tabindex="5">
                            <ui-select-match placeholder="Select or search ">{{$select.selected.ACCOUNT_HEADER_NAME}}</ui-select-match>
                            <ui-select-choices repeat="PT in obj.ActHeaderList | filter: $select.search">
                                <span ng-bind-html="PT.ACCOUNT_HEADER_NAME | highlight: $select.search"></span>
                            </ui-select-choices>
                        </ui-select>
                    </td>
                    <td style="width: 15%">
                        <select id="ddlDepartment" class="form-control" name="Z.Pack" tabindex="{{$index+8}}"
                                ng-model="obj.ddlDepartment"
                                ng-options=" D.DEPARTMENT_NAME for D in obj.DepartmentList track by D.DEPARTMENT_CODE">
                            <option value="">Select one</option>
                        </select>
                    </td>
                    <td style="width: 15%">
                        <select id="ddlpurpuse" class="form-control" name="Z.Pack" tabindex="{{$index+8}}"
                                ng-model="obj.ddlpurpuse"
                                ng-options=" Pu.PURPOSE_NAME for Pu in obj.PurposeList track by Pu.PURPOSE_CODE">
                            <option value="">Select one</option>
                        </select>
                    </td>
                    <td style="width: 10%">
                        <input type="text" style=" width: 100%; text-align: right" ng-model="obj.DEBIT" ng-keyup="keyup_debit($event, $index)" class="form-control" placeholder="0" tabindex="{{$index+8}}" />
                    </td>
                    <td style="width: 10%">
                        <input type="text" style=" width: 100%; text-align: right" ng-model="obj.CREDIT" ng-keyup="keyup_credit($event, $index)" class="form-control" placeholder="0" tabindex="{{$index+8}}" />
                    </td>
                    <td style=" width: 5%;">
                        <input id="btnAddProduct" type="button" style="background: white; border: 1px solid #337ab7; color: black; font-weight: bold; " ng-click="Add_Click()" value="Add" tabindex="8">
                    </td>
                </tr>
            </table>
            <div class="table-scroll-header-fix" style="margin-top:10px">
                <table id="mytable1" class="tTable center" style="width:96%">
                    <thead>
                        <tr>
                            <th style="width:5%" scope="col"><span style="color: white; font-size: 20px; font-weight:600;cursor:pointer;">-</span></th>
                            <th style="width:5%" scope="col"><span style="color: white; font-size: 20px; font-weight:600;cursor:pointer;">-</span></th>
                            <th style="width:10%" scope="col">Code</th>
                            <th style="width:30%" scope="col">Header</th>
                            <th style="width:15%" scope="col">Department</th>
                            <th style="width:15%" scope="col">Purpose</th>
                            <th style="width:10%" scope="col">Debit</th>
                            <th style="width:10%" scope="col"> Credit</th>
                        </tr>
                    </thead>
                    <tbody id="tbody">
                        <tr ng-repeat="Z in obj.dataList">
                            <td style="width:5%"><span style="color: red; font-size: 20px;cursor:pointer;" ng-click="removeRow($index,Z)" class="glyphicon glyphicon-trash"></span> </td>
                            <td style="width:5%">
                                <span style="color: blue; font-size: 20px;cursor:pointer;" ng-click="selectGridRow($index,Z)" class="glyphicon glyphicon-pencil"></span>
                                @*{{Z.sl}}*@
                            </td>
                            <td style="width:10%"> {{Z.ACCOUNT_ECONO_CODE}} </td>
                            <td style="width:30%">  {{Z.ACCOUNT_HEADER_NAME}}  </td>
                            <td style="width:15%"> {{Z.DEPARTMENT_NAME}}  </td>
                            <td style="width:15%">  {{Z.PURPOSE_NAME}} </td>
                            <td style="width:10%"> {{Z.DEBIT}}    </td>
                            <td style="width:10%">{{Z.CREDIT}} </td>
                        </tr>
                        <tr style="height:40px">
                            <td colspan="4" style="width: 80%; text-align: right; font-size: 20px; font-weight: bold; padding-right: 10px">Total</td>
                            <td style="width:10%;text-align: right; padding-right: 12px; font-weight: bold">{{obj.TOTAL_DEBIT}}</td>
                            <td style="width: 10%; text-align: right; padding-right: 12px; font-weight: bold">{{obj.TOTAL_CREDIT}}</td>
                        </tr>
                    </tbody>
                </table>
            </div>


        </div>
    </div>
    <!-- The Modal VoucherList-->
    <div id="Voucherlist" class="modal">
        <!-- Modal content -->
        <div class="modal-content">
            <div class="modal-head">
                <span class="closemodal" ng-click="closeModal('Voucherlist')">&times;</span>
                <h5>Voucher list</h5>
            </div>
            <div class="modal-body">
                <table id="tblPopup" class="popupTable" style=" width: 100%;">
                    <tr>
                        <th style="width:20%">Voucher No</th>
                        <th style="width:40%">Center</th>
                        <th style="width:40%">Date</th>
                    </tr>
                    <tbody id="tboodPopup">
                        <tr dir-paginate="X in obj.VoucherList|itemsPerPage:7" $index pagination-id="dataList" ng-class="{'selected':$index == MemoNoRow}" ng-click="setVoucherRow($index,X)" style="cursor:pointer">
                            <td style="width:20%">{{X.VOUCHER_NO}}</td>
                            <td style="width:40%">{{X.CENTER_NAME}}</td>
                            <td style="width:40%">{{X.VOUCHER_DATE}}</td>
                        </tr>
                    </tbody>
                </table>
                <dir-pagination-controls pagination-id="dataList" max-size="5"
                                         direction-links="true"
                                         boundary-links="true">
                </dir-pagination-controls>
            </div>
        </div>
    </div>
</div>

