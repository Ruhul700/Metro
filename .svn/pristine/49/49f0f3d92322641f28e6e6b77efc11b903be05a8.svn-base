
@{
    ViewBag.Title = "T19010";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<script src="~/Apps/Payroll/Setup/T19010Controller.js"></script>
<script src="~/Apps/Service/Service.js"></script>

<div ng-controller="T19010Controller">
    @*header*@
    <div class="header">
        <span href="#default" class="logo">Salary Setup</span>
        <div class="header-right">
            <a><span title="Save" ng-click="Save_Click()" class="glyphicon glyphicon-floppy-disk"></span></a>
            <a><span title="Clear" ng-click="Clear_Click()" class="glyphicon glyphicon-erase"></span></a>
            <a><span title="Print" ng-click="Print_Click()" class="glyphicon glyphicon-print"></span></a>
            <a><span title="Delete" ng-click="Delet_Click()" class="glyphicon glyphicon-trash"></span></a>
        </div>
    </div>
    @*===========*@
<div style="margin-left:0px; margin-top:10px" class="row col-lg-12 col-md-12 col-sm-12">
    <table class="inputTable center" style=" width: 90%;">
        <tr>
            <td style=" width: 10%;">
                <label id="lblSetCode" class="textlevel">Salary Set Code</label>
            </td>
            <td style="width: 10%; text-align: left; ">
                <input id="txtSetCode" type="text" ng-model="obj.T19010.T_SALARY_SET_CODE" maxlength="6" class="form-control" readonly />
            </td>
            <td style=" width: 10%;">
                <label class="textlevel">Emp Code</label>
            </td>
            <td style="width: 10%; text-align: left; ">
                <input type="text" id="txtCode" maxlength="6" ng-model="obj.T19010.T_EMP_CODE" class="form-control" ng-dblclick="ClientName()" readonly />
            </td>
            <td style=" width: 5%;">
                <label id="lblName" class="textlevel">Name</label>
            </td>
            <td style="width: 15%; text-align: left; ">
                <input id="txtName" type="text" ng-model="obj.T19010.T_EMP_NAME" class="form-control" readonly />
            </td>
            <td style=" width: 10%;">
                <label id="lblDesignation" class="textlevel">Designation</label>
            </td>
            <td style="width: 10%; text-align: left; ">
                <input id="txtDesignation" type="text" ng-model="obj.T19010.T_EMP_DESIGNATION" class="form-control" readonly />
            </td>
            <td style=" width: 10%;">
                <label id="lblGender" class="textlevel">Gender</label>
            </td>
            <td style="width: 10%; text-align: left; ">
                <input id="txtGender" type="text" ng-model="obj.T19010.T_GENDER_NAME" class="form-control" readonly />
            </td>
        </tr>       
    </table>
    <hr style="margin-top: 5px !important; margin-bottom: 5px !important; border-top: 2px solid #076c93b0; " />


    <div style="display: flex; justify-content: center; width: 100%;">

        @*1st table start*@
        <div style="width: 50%; padding: 10px;">
            <table class="inputTable center" style=" width: 100%;">
                <tr style="background: #348fcf63">
                    <td>
                        <h3 class="text-center">Payment</h3>
                    </td>                    
                </tr>
            </table>
            <table id="tblGrid" class="tTable" style=" width: 100%;">
                <thead>
                    <tr style="color: black;background: #afadad" class="summary-table-header">
                        <th style="width: 5%;">SL</th>
                        <th style="width: 20%;">Code</th>
                        <th style="width: 45%;">Name</th>
                        <th style="width: 10%;">Ratio</th>
                        <th style="width: 20%;">Amount</th>
                    </tr>
                </thead>
                <tbody>
                    <tr ng-repeat="Z in obj.griPaymentDataList">
                        <td style="width: 5%;">{{ $index + 1 }}</td>                      
                        <td style="width: 20%;">{{Z.T_SALARY_INFO_CODE}}</td>
                        <td style="width: 45%; text-align: left;">{{Z.T_SALARY_INFO_NAME}}</td>
                        <td style="width: 10%; text-align: left;">{{Z.T_SALARY_INFO_RATIO}}%</td>
                        <td style="width: 20%; text-align: left;">
                            <input type="text" ng-model="Z.T_AMOUNT" class="form-control" style="width: 90%;" />
                        </td>
                    </tr>
                </tbody>
                <tfoot>
                    <tr style="background-color: #e1e1e1; font-weight: bold;">
                        <td colspan="4" style="text-align: right;">Total:</td>
                        <td>{{ getPaymentTotal() }}</td>
                    </tr>
                </tfoot>
            </table>           
        </div>
        @*1st table end*@


        @*2nd table*@
        <div style="width: 50%; padding: 10px;">
            <table class="inputTable center" style=" width: 100%;">
                <tr style="background: #348fcf63">
                    <td>
                        <h3 class="text-center">Deduction</h3>
                    </td>                    
                </tr>
            </table>
            <table id="tblGrid" class="tTable" style=" width: 100%;">
                <thead>
                    <tr style="color: black;background: #afadad" class="summary-table-header">
                        <th style="width: 10%;">SL</th>
                        <th style="width: 20%;">Code</th>
                        <th style="width: 20%;">Description</th>
                        <th style="width: 10%;">Amount</th>
                        @*<th style="width: 10%;">Amount</th>*@
                    </tr>
                </thead>
                <tbody>
                    <tr ng-repeat="D in obj.griDeductionDataList">
                        <td style="width: 5%;">{{ $index + 1 }}</td>
                        <td style="width: 20%;">{{D.T_DEDUCTION_CODE}}</td>
                        <td style="width: 20%; text-align: left;">{{D.T_DEDUCTION_NAME}}</td>
                        <td style="width: 10%; text-align: left;">
                            <input type="text" ng-model="D.T_DEDUCTION_AMOUNT" class="form-control" style="width: 90%;" />
                        </td>
                    </tr>
                </tbody>
                <tfoot>
                    <tr style="background-color: #e1e1e1; font-weight: bold;">
                        <td colspan="3" style="text-align: right;">Total:</td>
                        <td>{{ getTotalDeductionAmount() }}</td>
                    </tr>
                </tfoot>
            </table>
           
        </div>
        @*2nd table*@
    </div>
    <div>
        <table class="table table-bordered" style="width: 40%; margin-top: 20px;">
            <tr style="background-color: #f5f5f5; font-weight: bold;">
                <td>Total Payment</td>
                <td>{{ getPaymentTotal() }}</td>
            </tr>
            <tr style="background-color: #f5f5f5; font-weight: bold;">
                <td>Total Deduction</td>
                <td>{{ getTotalDeductionAmount() }}</td>
            </tr>
            <tr style="background-color: #d4edda; font-weight: bold;">
                <td>Payable Amount</td>
                <td>{{ getPayableAmount() }}</td>
            </tr>
        </table>
    </div> 
</div>

    @*Client modal start*@
    <div id="Client" class="modal">
        <!-- Modal content -->
        <div class="modal-content">
            <div class="modal-head">
                <span class="closemodal" ng-click="closeModal('Client')">&times;</span>
                <h5>Client List</h5>
            </div>
            <div class="modal-body">
                <table>
                    <tr>
                        <td style="text-align: -webkit-right;">
                            <input type="text" style="width:200px" ng-model="Search" placeholder="Search....." class="form-control" />
                        </td>
                    </tr>
                </table>
                <table id="tblPopup" class="popupTable">
                    <tr>
                        <th style="width:10%">Code</th>
                        <th style="width:50%">Name</th>
                        <th style="width:20%">Designation</th>
                        <th style="width:20%">Gender</th>
                    </tr>
                    <tbody id="tboodPopup">
                        <tr dir-paginate="X in obj.ClientList|filter:Search|itemsPerPage:15" $index pagination-id="dataList" ng-class="{'selected':$index == MemoNoRow}" ng-click="setClientRow($index,X)" style="cursor:pointer">
                            <td style="width:10%">{{X.T_EMP_CODE}}</td>
                            <td style="width:50%">{{X.T_EMP_NAME}}</td>
                            <td style="width:20%;text-align:left">{{X.T_DESIGNATION_NAME}}</td>
                            <td style="width:20%;text-align:left">{{X.T_GENDER_NAME}}</td>
                           
                        </tr>
                    </tbody>
                </table>
                <dir-pagination-controls pagination-id="dataList" max-size="5"
                                         direction-links="true"
                                         boundary-links="true">
                </dir-pagination-controls>
            </div>
        </div>
    </div>
    @*Client modal end*@
</div>

